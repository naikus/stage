<div class="stage-view four" data-view="four">
  <h1>View Four</h1>
  <p>Clicking &#187; will show a JS only view (content generated by view controller)</p>
  <button class="btn" id="btn6">&#171;</button>
  <button class="btn" id="btn7">&#187;</button>
  <script src="four.js"></script>
  <script>
    // var Stage = require("stage");
    (function() {
      var timerId;
      Stage.defineView({
        id: "four", 
        factory: function(stageContext, viewUi) {
          dummy(); // from four.js
          return {
            initialize: function() {
              document.getElementById("btn6").addEventListener(ACTION, function() {
                stageContext.popView();
              }, false);
              document.getElementById("btn7").addEventListener(ACTION, function() {
                stageContext.pushView("five", {transition: "slide-down"});
              }, false);

            },
            activate: function(opts, done) {
              var counter = 3, counterElem = document.getElementById("actionbar");
              timerId = setInterval(function() {
                if(!counter) {
                  clearInterval(timerId);
                  done();
                }
                counterElem.innerHTML = (counter--);
              }, 200);
            },
            deactivate: function() {
              clearInterval(timerId);
            }
          };
        }
      });
    })();
  </script>
</div